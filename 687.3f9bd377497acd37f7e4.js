"use strict";(self.webpackChunkschool=self.webpackChunkschool||[]).push([[687],{8687:(J,a,s)=>{s.r(a),s.d(a,{StudentViewModule:()=>Y});var p=s(8583),l=s(4655),g=s(3190),f=s(5319),t=s(7716),h=s(2340),c=s(1841),m=s(5917),d=s(8002),Z=s(5304);let w=(()=>{class n{constructor(e){this.http=e,this.url=`${h.N.apiUrl}/Tutor`}getStudentProfileInfo(e,i){let r=new c.LE;return r=r.append("userId",e),r=r.append("studentId",i),this.http.get(`${this.url}/GetStudentProfileInfo`,{params:r}).pipe((0,d.U)(u=>u.result.profileInfo),(0,Z.K)(()=>(0,m.of)({})))}getStudentSubjects(e,i){let r=new c.LE;return r=r.append("userId",e),r=r.append("studentId",i),this.http.get(`${this.url}/GetStudentSubjects`,{params:r}).pipe((0,d.U)(u=>u.result.subjects))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(c.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var T=s(6634),v=s(3328),S=s(7089);function U(n,o){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"img",16),t.qZA())}function I(n,o){if(1&n&&t._UZ(0,"img",17),2&n){const e=t.oxw();t.Q6J("src",null==e.studentInfo?null:e.studentInfo.photo,t.LSH)}}function A(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleContent()}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.isWrapUpContentToggled?"read more":"read less")}}function b(n,o){if(1&n&&(t.TgZ(0,"section",18),t.TgZ(1,"h2",19),t._uU(2," Wrap up your profile "),t._UZ(3,"hr"),t.qZA(),t.TgZ(4,"div",20),t.TgZ(5,"p",21),t._uU(6),t.qZA(),t.YNc(7,A,2,1,"button",22),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(6),t.Oqu(e.wrapUp),t.xp6(1),t.Q6J("ngIf",e.wrapUp&&e.wrapUp.length>e.limit)}}function x(n,o){if(1&n&&(t.TgZ(0,"td"),t.TgZ(1,"h2",30),t._uU(2,"Category"),t.qZA(),t.TgZ(3,"p",31),t._uU(4),t.qZA(),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",e.category," ")}}function C(n,o){if(1&n&&(t.TgZ(0,"td"),t.TgZ(1,"h2",30),t._uU(2,"Subject"),t.qZA(),t.TgZ(3,"p",31),t._uU(4),t.qZA(),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",e.subject," ")}}function V(n,o){if(1&n&&(t.TgZ(0,"td"),t.TgZ(1,"h2",30),t._uU(2,"Level"),t.qZA(),t.TgZ(3,"p",31),t._uU(4),t.qZA(),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",e.level," ")}}function _(n,o){if(1&n&&(t.TgZ(0,"tr",28),t.YNc(1,x,5,1,"td",29),t.YNc(2,C,5,1,"td",29),t.YNc(3,V,5,1,"td",29),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.category),t.xp6(1),t.Q6J("ngIf",null==e?null:e.subject),t.xp6(1),t.Q6J("ngIf",null==e?null:e.level)}}function j(n,o){if(1&n&&(t.TgZ(0,"section",18),t.TgZ(1,"h2",19),t._uU(2," Subjects "),t._UZ(3,"hr"),t.qZA(),t.TgZ(4,"div",24),t.TgZ(5,"div",25),t.TgZ(6,"table",26),t.TgZ(7,"tbody"),t.YNc(8,_,4,3,"tr",27),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(8),t.Q6J("ngForOf",e.subjects)}}const q=[{path:"",component:(()=>{class n{constructor(e,i,r,u){this.studentViewService=e,this.router=i,this.tutorViewService=r,this.storageService=u,this.subscription=new f.w,this.limit=150}ngOnInit(){this.subscription.add(this.router.params.pipe((0,g.w)(e=>{const i=this.storageService.getUserId();return this.getSubjects(i,e.id),this.studentViewService.getStudentProfileInfo(i,e.id)})).subscribe(e=>{this.studentInfo=e,this.setStudentBaseInfo(e)}))}setStudentBaseInfo(e){e&&(this.originalWrapUpContent=e.wrapUp,this.wrapUp=this.formatWrapUpContent(e.wrapUp,this.originalWrapUpContent))}getSubjects(e,i){this.subscription.add(this.studentViewService.getStudentSubjects(e,i).subscribe(r=>{this.subjects=r}))}formatWrapUpContent(e,i){return this.isWrapUpContentToggled?(this.isWrapUpContentToggled=!1,i):(null==e?void 0:e.length)>this.limit?(this.isWrapUpContentToggled=!0,`${e.substr(0,this.limit)}...`):e}toggleContent(){this.wrapUp=this.formatWrapUpContent(this.wrapUp,this.originalWrapUpContent)}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w),t.Y36(l.gz),t.Y36(T.o),t.Y36(v.V))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-student-view"]],decls:22,vars:6,consts:[[1,"user-profile-wrapper"],[1,"profile-gradient"],[1,"profile-container"],[1,"profile-main-info-wrapper"],[1,"file-upload-wrapper"],[1,"upload-image-box"],[1,"image-upload-wrap"],["class","drag-text",4,"ngIf"],["alt","student photo",3,"src",4,"ngIf"],[1,"profile-cards"],[1,"profile-cards__Info--title"],[1,"profile-buttons","justify-content-start"],[1,"profile-buttons--item","flex-container-center"],["src","assets/images/message.png","alt","Messages","width","51","height","50"],["class","profile-section",4,"ngIf"],[1,"drag-text"],["src","assets/images/photo-camera%201.png","alt","Upload Photo","width","33","height","33"],["alt","student photo",3,"src"],[1,"profile-section"],[1,"profile-section__title"],[1,"nested-info"],[1,"profile-section__description"],["class","read-more",3,"click",4,"ngIf"],[1,"read-more",3,"click"],[1,"nested-info","without-side-padding"],[1,"flex-container-justify-start","grid-gap-54","grid-wrapper"],[1,"profile-tabs-table"],["class","profile-tabs-table--row",4,"ngFor","ngForOf"],[1,"profile-tabs-table--row"],[4,"ngIf"],[1,"profile-section--subtitle"],[1,"profile-section--subDescription"]],template:function(e,i){1&e&&(t._UZ(0,"app-header"),t.TgZ(1,"main",0),t._UZ(2,"div",1),t.TgZ(3,"div",2),t.TgZ(4,"section",3),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"div",6),t._UZ(8,"div"),t.YNc(9,U,2,0,"div",7),t.YNc(10,I,1,1,"img",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",9),t.TgZ(12,"h2",10),t._uU(13),t.TgZ(14,"span"),t._uU(15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"section",11),t.TgZ(17,"button",12),t._UZ(18,"img",13),t._uU(19," Message "),t.qZA(),t.qZA(),t.YNc(20,b,8,2,"section",14),t.YNc(21,j,9,1,"section",14),t.qZA(),t.qZA()),2&e&&(t.xp6(9),t.Q6J("ngIf",!(null!=i.studentInfo&&i.studentInfo.photo)),t.xp6(1),t.Q6J("ngIf",null==i.studentInfo?null:i.studentInfo.photo),t.xp6(3),t.hij(" ",null==i.studentInfo?null:i.studentInfo.fullName," "),t.xp6(2),t.hij(" (",null==i.studentInfo?null:i.studentInfo.userName,")"),t.xp6(5),t.Q6J("ngIf",i.wrapUp),t.xp6(1),t.Q6J("ngIf",null==i.subjects?null:i.subjects.length))},directives:[S.G,p.O5,p.sg],styles:[""]}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(q)],l.Bz]}),n})();var N=s(2372);let Y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.ez,y,N.E]]}),n})()}}]);