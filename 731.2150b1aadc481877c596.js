"use strict";(self.webpackChunkschool=self.webpackChunkschool||[]).push([[731],{1618:(J,y,a)=>{a.d(y,{p:()=>h});var t=a(5319),r=a(3679),e=a(7716),n=a(3328),q=a(7779),M=a(6275),w=a(429),C=a(8583);function U(o,p){1&o&&(e.TgZ(0,"span",11),e._uU(1,"The Current Password field is required."),e.qZA())}function Z(o,p){1&o&&(e.TgZ(0,"span",11),e._uU(1,"Password is incorrect"),e.qZA())}function P(o,p){1&o&&(e.TgZ(0,"span",11),e._uU(1,"The New Password field is required."),e.qZA())}function b(o,p){1&o&&(e.TgZ(0,"span",11),e._uU(1,"Password should be at least 8 characters"),e.qZA())}function v(o,p){1&o&&(e.TgZ(0,"span",11),e._uU(1,"Password can not contain space"),e.qZA())}function g(o,p){1&o&&(e.TgZ(0,"span",11),e._uU(1,"Password should contain at least 1 digit and 1 symbol"),e.qZA())}function I(o,p){if(1&o&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&o){const l=p.ngIf;e.xp6(1),e.Oqu(l)}}function m(o,p){1&o&&(e.TgZ(0,"span",11),e._uU(1,"Passwords are not the same"),e.qZA())}function d(o,p){1&o&&(e.TgZ(0,"span",11),e._uU(1,"The Confirm New Password field is required."),e.qZA())}let h=(()=>{class o{constructor(l,s,i,f,c){this.storageService=l,this.fb=s,this.settingsService=i,this.validationService=f,this.registrationService=c,this.subscription=new t.w}ngOnInit(){this.initializeForm(),this.subscribeOnCurrentPasswordChange(),this.resetPasswordError(),this.passwordValidation$=this.registrationService.passwordValidation$}initializeForm(){this.form=this.fb.group({userId:[this.storageService.getUserId()],currentPassword:[null,[r.kI.required]],password:[null],rePassword:[null,[r.kI.required]]},{validators:this.validationService.checkPasswords})}onSubmit(){if(this.wrongPassword=!1,this.form.valid){delete this.form.value.rePassword;const l=this.form.value.password;delete this.form.value.password,this.subscription.add(this.settingsService.updatePassword(Object.assign(Object.assign({},this.form.value),{newPassword:l})).subscribe(()=>{var s;this.form.reset(),null===(s=this.form.get("userId"))||void 0===s||s.setValue(this.storageService.getUserId())},s=>{"Wrong password"===s.error.type&&(this.wrongPassword=!0)}))}else this.form.markAllAsTouched()}subscribeOnCurrentPasswordChange(){var l;this.subscription.add(null===(l=this.form.get("currentPassword"))||void 0===l?void 0:l.valueChanges.subscribe(()=>this.wrongPassword=!1))}resetPasswordError(){var l;this.subscription.add(null===(l=this.form.get("password"))||void 0===l?void 0:l.valueChanges.subscribe(()=>this.registrationService.passwordValidation$.next("")))}ngOnDestroy(){this.subscription.unsubscribe()}}return o.\u0275fac=function(l){return new(l||o)(e.Y36(n.V),e.Y36(r.qu),e.Y36(q.g),e.Y36(M.R),e.Y36(w.c))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-change-password"]],decls:21,vars:12,consts:[[1,"tutor-settings-nested-page"],[1,"tutor-settings-nested-page__form","tutor-settings-nested-page__form--fixed--width",3,"formGroup","ngSubmit"],[1,"setting-form-input-wrapper"],["for","current-password",1,"form-label"],["id","current-password","name","current-password","required","","autocomplete","current-password","type","password","placeholder","Current Password*","formControlName","currentPassword",1,"form-input"],["class","error-message",4,"ngIf"],["for","new-password",1,"form-label"],["id","new-password","name","new-password","required","","autocomplete","current-password","type","password","placeholder","New Password*","formControlName","password",1,"form-input"],["for","confirm-new-password",1,"form-label"],["id","confirm-new-password","name","confirm-new-password","required","","autocomplete","current-password","type","password","placeholder","Confirm New Password*","formControlName","rePassword",1,"form-input"],[1,"settings-form-button"],[1,"error-message"]],template:function(l,s){if(1&l&&(e.TgZ(0,"div",0),e.TgZ(1,"form",1),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(2,"div",2),e.TgZ(3,"label",3),e._UZ(4,"input",4),e.YNc(5,U,2,0,"span",5),e.YNc(6,Z,2,0,"span",5),e.qZA(),e.TgZ(7,"label",6),e._UZ(8,"input",7),e.YNc(9,P,2,0,"span",5),e.YNc(10,b,2,0,"span",5),e.YNc(11,v,2,0,"span",5),e.YNc(12,g,2,0,"span",5),e.YNc(13,I,2,1,"span",5),e.ALo(14,"async"),e.qZA(),e.TgZ(15,"label",8),e._UZ(16,"input",9),e.YNc(17,m,2,0,"span",5),e.YNc(18,d,2,0,"span",5),e.qZA(),e.qZA(),e.TgZ(19,"button",10),e._uU(20,"Change password"),e.qZA(),e.qZA(),e.qZA()),2&l){let i,f,c,u,_,A,T;e.xp6(1),e.Q6J("formGroup",s.form),e.xp6(4),e.Q6J("ngIf",(null==(i=s.form.get("currentPassword"))||null==i.errors?null:i.errors.required)&&(null==(i=s.form.get("currentPassword"))?null:i.touched)),e.xp6(1),e.Q6J("ngIf",s.wrongPassword),e.xp6(3),e.Q6J("ngIf",(null==(f=s.form.get("password"))||null==f.errors?null:f.errors.required)&&(null==(f=s.form.get("password"))?null:f.touched)),e.xp6(1),e.Q6J("ngIf",(null==(c=s.form.get("password"))||null==c.errors?null:c.errors.minlength)&&!(null!=(c=s.form.get("password"))&&null!=c.errors&&c.errors.cannotContainSpace)&&(null==(c=s.form.get("password"))?null:c.touched)),e.xp6(1),e.Q6J("ngIf",(null==(u=s.form.get("password"))||null==u.errors?null:u.errors.cannotContainSpace)&&(null==(u=s.form.get("password"))?null:u.touched)),e.xp6(1),e.Q6J("ngIf",(null==(_=s.form.get("password"))||null==_.errors?null:_.errors.pattern)&&!(null!=(_=s.form.get("password"))&&null!=_.errors&&_.errors.cannotContainSpace)&&(null==(_=s.form.get("password"))?null:_.touched)&&!(null!=(_=s.form.get("password"))&&null!=_.errors&&_.errors.minlength)),e.xp6(1),e.Q6J("ngIf",e.lcZ(14,10,s.passwordValidation$)),e.xp6(4),e.Q6J("ngIf",(null==s.form||null==s.form.errors?null:s.form.errors.notSame)&&(null==(A=s.form.get("rePassword"))?null:A.touched)&&!(null!=(A=s.form.get("rePassword"))&&null!=A.errors&&A.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==(T=s.form.get("rePassword"))||null==T.errors?null:T.errors.required)&&(null==(T=s.form.get("rePassword"))?null:T.touched))}},directives:[r._Y,r.JL,r.sg,r.Fj,r.Q7,r.JJ,r.u,C.O5],pipes:[C.Ov],styles:[""]}),o})()},2484:(J,y,a)=>{a.d(y,{H:()=>U});var t=a(7716),r=a(3679),e=a(5319),n=a(7779),q=a(825),M=a(8583);function w(Z,P){1&Z&&(t.TgZ(0,"span",11),t._uU(1,"You must enter your current Sophist password."),t.qZA())}function C(Z,P){if(1&Z&&(t.TgZ(0,"span",11),t._uU(1),t.qZA()),2&Z){const b=t.oxw();t.xp6(1),t.Oqu(b.errorMessage)}}let U=(()=>{class Z{constructor(b,v,g){this.fb=b,this.settingService=v,this.messageService=g,this.close=new t.vpe,this.updated=new t.vpe,this.actionType="updatePersonalInformation",this.subscription=new e.w}ngOnInit(){this.form=this.fb.group({password:[null,[r.kI.required]]}),this.initializeSubscriptions()}initializeSubscriptions(){this.subscription.add(this.form.valueChanges.subscribe(()=>this.errorMessage=""))}onConfirm(){this.errorMessage="",this.form.valid?"updatePersonalInformation"===this.actionType?this.updatePersonalInformation():this.updateCart():this.form.markAllAsTouched()}updatePersonalInformation(){this.subscription.add(this.settingService.updatePersonalInformation(this.body,this.form.value.password).subscribe(b=>{this.updated.emit(),b.emailChangeRequest&&this.messageService.setNewMessage(b.emailChangeRequest),this.close.emit()},b=>{this.errorMessage=b.error.title}))}updateCart(){const b=Object.assign(Object.assign({},this.body),{cardNumber:this.body.cardNumber.toString()});this.settingService.updatePaymentMethod(b,this.form.value.password).subscribe(()=>{this.updated.emit(),this.close.emit()},v=>{this.errorMessage=v.error.title})}ngOnDestroy(){this.subscription.unsubscribe()}}return Z.\u0275fac=function(b){return new(b||Z)(t.Y36(r.qu),t.Y36(n.g),t.Y36(q.e))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["app-confirm-password"]],inputs:{body:"body",actionType:"actionType"},outputs:{close:"close",updated:"updated"},decls:15,vars:3,consts:[[1,"confirm-dialog-wrapper","flex-container-center"],[1,"confirm-dialog-content"],[1,"flex-container-center","confirm-header"],[1,"confirm-content-title"],[1,"material-icons",3,"click"],[3,"formGroup","ngSubmit"],["for","password",1,"form-label","confirm-content-label"],["type","password","formControlName","password","placeholder","Sophist password*","id","password",1,"form-input"],["class","error-message",4,"ngIf"],[1,"flex-container-center"],["type","submit",1,"confirm-modal-btn"],[1,"error-message"]],template:function(b,v){if(1&b&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3",3),t._uU(4,"Please enter your password"),t.qZA(),t.TgZ(5,"span",4),t.NdJ("click",function(){return v.close.emit()}),t._uU(6,"close"),t.qZA(),t.qZA(),t.TgZ(7,"form",5),t.NdJ("ngSubmit",function(){return v.onConfirm()}),t.TgZ(8,"label",6),t._UZ(9,"input",7),t.YNc(10,w,2,0,"span",8),t.YNc(11,C,2,1,"span",8),t.qZA(),t.TgZ(12,"div",9),t.TgZ(13,"button",10),t._uU(14,"confirm"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&b){let g;t.xp6(7),t.Q6J("formGroup",v.form),t.xp6(3),t.Q6J("ngIf",(null==(g=v.form.get("password"))||null==g.errors?null:g.errors.required)&&(null==(g=v.form.get("password"))?null:g.touched)),t.xp6(1),t.Q6J("ngIf",v.errorMessage)}},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,M.O5],styles:['.confirm-dialog-wrapper[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#0006;z-index:999}.confirm-dialog-content[_ngcontent-%COMP%]{width:647px;padding:27px 40px 40px;background:white;border:1px solid #efe699;box-sizing:border-box;border-radius:25px}.confirm-header[_ngcontent-%COMP%]{justify-content:space-between}.confirm-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.confirm-content-title[_ngcontent-%COMP%]{flex:1;margin:0;font:300 normal 1.125rem "Segoe UI",sans-serif;line-height:24px;text-align:center;color:#000}.confirm-content-label[_ngcontent-%COMP%]{margin:25px 0 40px}.confirm-content-label[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:468px;margin:0 auto}.confirm-modal-btn[_ngcontent-%COMP%]{margin:0 auto;width:163px;height:43px;border:1px solid #26BC00;box-sizing:border-box;border-radius:10px;font:700 normal 1rem "Segoe UI",sans-serif;line-height:21px;letter-spacing:.08em;text-transform:capitalize;color:#26bc00;background-color:unset}']}),Z})()},2021:(J,y,a)=>{a.d(y,{Z:()=>h});var t=a(3679),r=a(7716),e=a(3328),n=a(6332),q=a(8067),M=a(7779),w=a(8583),C=a(2484);function U(o,p){if(1&o&&(r.TgZ(0,"p",25),r._uU(1," Your current card number is "),r.TgZ(2,"span",26),r._uU(3),r.qZA(),r.qZA()),2&o){const l=p.ngIf;r.xp6(3),r.hij(" ",l.last4," ")}}function Z(o,p){1&o&&(r.TgZ(0,"span",27),r._uU(1,"This is a required field."),r.qZA())}function P(o,p){1&o&&(r.TgZ(0,"span",27),r._uU(1,"This is a required field."),r.qZA())}function b(o,p){if(1&o&&(r.TgZ(0,"option",28),r._uU(1),r.qZA()),2&o){const l=p.$implicit;r.Q6J("ngValue",l.id),r.xp6(1),r.Oqu(l.numberInString+" "+l.name)}}function v(o,p){1&o&&(r.TgZ(0,"span",27),r._uU(1,"This is a required field."),r.qZA())}function g(o,p){if(1&o&&(r.TgZ(0,"option",28),r._uU(1),r.qZA()),2&o){const l=p.$implicit;r.Q6J("ngValue",l.id),r.xp6(1),r.Oqu(l.description)}}function I(o,p){1&o&&(r.TgZ(0,"span",27),r._uU(1,"This is a required field."),r.qZA())}function m(o,p){1&o&&(r.TgZ(0,"span",27),r._uU(1,"This is a required field."),r.qZA())}function d(o,p){if(1&o){const l=r.EpF();r.TgZ(0,"app-confirm-password",29),r.NdJ("close",function(){return r.CHM(l),r.oxw().showUpdateCard=!1})("updated",function(){r.CHM(l);const i=r.oxw();return i.form.reset(),i.form.disable()}),r.qZA()}if(2&o){const l=r.oxw();r.Q6J("actionType","updateCard")("body",l.form.value)}}let h=(()=>{class o{constructor(l,s,i,f,c){this.fb=l,this.storageService=s,this.infoService=i,this.dateService=f,this.settingService=c}ngOnInit(){this.initializeForm(),this.months$=this.infoService.getMonths(),this.yearList=this.dateService.getYearsForCard(),this.getPaymentMethod()}initializeForm(){this.form=this.fb.group({userId:[this.storageService.getUserId()],cardNumber:[null,[t.kI.required]],expMonth:[null,[t.kI.required]],expYear:[null,[t.kI.required]],name:[null,[t.kI.required]],cvc:[null,[t.kI.required]]}),this.form.disable()}onSubmit(){this.form.valid?this.showUpdateCard=!0:this.form.markAllAsTouched()}getPaymentMethod(){this.paymentMethod$=this.settingService.getPaymentMethod(this.storageService.getUserId())}}return o.\u0275fac=function(l){return new(l||o)(r.Y36(t.qu),r.Y36(e.V),r.Y36(n.M),r.Y36(q.R),r.Y36(M.g))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-payment-method"]],decls:51,vars:14,consts:[[1,"tutor-settings-nested-page"],[1,"tutor-settings-page-title"],[1,"tutor-settings-page-notification","form-item-notification"],["class","tutor-settings-page-notification card-number-wrapper",4,"ngIf"],[1,"tutor-settings-nested-page__form","tutor-settings-nested-page__form--fixed--width",3,"formGroup","ngSubmit"],[1,"tutor-settings-page-legend"],[1,"form-legend-title-tab","active"],[1,"setting-form-input-wrapper"],[1,"form-item-label"],["for","account-holder-name",1,"form-label"],["id","account-holder-name","name","account-holder-name","required","","autocomplete","accountHolderName","type","text","placeholder","Account holder\u2019s name","formControlName","name",1,"form-input"],["class","error-message",4,"ngIf"],["for","card-number",1,"form-label"],["id","card-number","name","card-number","required","","autocomplete","card-number","type","number","placeholder","Card Number*","formControlName","cardNumber",1,"form-input"],[1,"flex-container","form-label","double-select","fixed-width"],[1,"p-relative","min-width-select"],["formControlName","expMonth",1,"form-input","selectpicker"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","expYear",1,"form-input","selectpicker"],["for","cvv",1,"form-label"],["id","cvv","name","cvv","required","","autocomplete","card-cvv","type","number","placeholder","CVC2/CVV2*","formControlName","cvc",1,"form-input","cvv"],[1,"flex-container-center","grid-gap-for-buttons"],["type","button",1,"settings-form-button","settings-form-button__with-border","button-border--blue",3,"click"],["type","submit",1,"settings-form-button","settings-form-button__with-border","button-border--green"],[3,"actionType","body","close","updated",4,"ngIf"],[1,"tutor-settings-page-notification","card-number-wrapper"],[1,"card-number"],[1,"error-message"],[3,"ngValue"],[3,"actionType","body","close","updated"]],template:function(l,s){if(1&l&&(r.TgZ(0,"div",0),r.TgZ(1,"h3",1),r._uU(2,"Add Payment Method"),r.qZA(),r.TgZ(3,"p",2),r._uU(4," Please be informed that in case of providing a non- US dollar account/card, the amount will be transferred to the appropriate account at the exchange rate set by your bank for the respective currency. "),r.qZA(),r.YNc(5,U,4,1,"p",3),r.ALo(6,"async"),r.TgZ(7,"form",4),r.NdJ("ngSubmit",function(){return s.onSubmit()}),r.TgZ(8,"fieldset"),r.TgZ(9,"legend",5),r.TgZ(10,"h3",6),r._uU(11,"CREDIT CARD/DEBIT CARD"),r.qZA(),r.qZA(),r.TgZ(12,"div",7),r.TgZ(13,"div"),r.TgZ(14,"h3",8),r._uU(15,"Insert your name as it appears on the card*"),r.qZA(),r.TgZ(16,"label",9),r._UZ(17,"input",10),r.YNc(18,Z,2,0,"span",11),r.qZA(),r.qZA(),r.TgZ(19,"div"),r.TgZ(20,"h3",8),r._uU(21,"Card number* "),r.qZA(),r.TgZ(22,"label",12),r._UZ(23,"input",13),r.YNc(24,P,2,0,"span",11),r.qZA(),r.qZA(),r.TgZ(25,"div"),r.TgZ(26,"h3",8),r._uU(27,"Card expiration date* "),r.qZA(),r.TgZ(28,"div",14),r.TgZ(29,"div",15),r.TgZ(30,"select",16),r.YNc(31,b,2,2,"option",17),r.ALo(32,"async"),r.qZA(),r.YNc(33,v,2,0,"span",11),r.qZA(),r.TgZ(34,"div",15),r.TgZ(35,"select",18),r.YNc(36,g,2,2,"option",17),r._uU(37,"ZZ "),r.qZA(),r.YNc(38,I,2,0,"span",11),r.qZA(),r.qZA(),r.qZA(),r.TgZ(39,"div"),r.TgZ(40,"h3",8),r._uU(41,"CVC2/CVV2* "),r.qZA(),r.TgZ(42,"label",19),r._UZ(43,"input",20),r.YNc(44,m,2,0,"span",11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(45,"div",21),r.TgZ(46,"button",22),r.NdJ("click",function(){return s.form.enable()}),r._uU(47,"Edit"),r.qZA(),r.TgZ(48,"button",23),r._uU(49,"Save"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(50,d,1,2,"app-confirm-password",24)),2&l){let i,f,c,u,_;r.xp6(5),r.Q6J("ngIf",r.lcZ(6,10,s.paymentMethod$)),r.xp6(2),r.Q6J("formGroup",s.form),r.xp6(11),r.Q6J("ngIf",(null==(i=s.form.get("name"))||null==i.errors?null:i.errors.required)&&(null==(i=s.form.get("name"))?null:i.touched)),r.xp6(6),r.Q6J("ngIf",(null==(f=s.form.get("cardNumber"))||null==f.errors?null:f.errors.required)&&(null==(f=s.form.get("cardNumber"))?null:f.touched)),r.xp6(7),r.Q6J("ngForOf",r.lcZ(32,12,s.months$)),r.xp6(2),r.Q6J("ngIf",(null==(c=s.form.get("expMonth"))||null==c.errors?null:c.errors.required)&&(null==(c=s.form.get("expMonth"))?null:c.touched)),r.xp6(3),r.Q6J("ngForOf",s.yearList),r.xp6(2),r.Q6J("ngIf",(null==(u=s.form.get("expYear"))||null==u.errors?null:u.errors.required)&&(null==(u=s.form.get("expYear"))?null:u.touched)),r.xp6(6),r.Q6J("ngIf",(null==(_=s.form.get("cvc"))||null==_.errors?null:_.errors.required)&&(null==(_=s.form.get("cvc"))?null:_.touched)),r.xp6(6),r.Q6J("ngIf",s.showUpdateCard)}},directives:[w.O5,t._Y,t.JL,t.sg,t.Fj,t.Q7,t.JJ,t.u,t.wV,t.EJ,w.sg,t.YN,t.Kr,C.H],pipes:[w.Ov],styles:[".min-width-select[_ngcontent-%COMP%]{flex:1}.tutor-settings-page-notification[_ngcontent-%COMP%]{max-width:61%;margin-bottom:30px}.card-number-wrapper[_ngcontent-%COMP%]{font-size:20px}.card-number[_ngcontent-%COMP%]{color:#4e699c}.billing-address-container[_ngcontent-%COMP%]{margin-top:139px}.billing-address-container[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{margin-bottom:20px}.billing-address-container[_ngcontent-%COMP%]   .size-mid[_ngcontent-%COMP%]{font-size:20px}"]}),o})()},5067:(J,y,a)=>{a.d(y,{i:()=>s});var t=a(3679),r=a(5319),e=a(7716),n=a(3328),q=a(6332),M=a(7779),w=a(6275),C=a(8583),U=a(9092),Z=a(2484);function P(i,f){1&i&&(e.TgZ(0,"span",36),e._uU(1,"This is a required field"),e.qZA())}function b(i,f){1&i&&(e.TgZ(0,"span",36),e._uU(1,"Please provide a valid email address"),e.qZA())}function v(i,f){1&i&&(e.TgZ(0,"span",36),e._uU(1,"This is a required field"),e.qZA())}function g(i,f){1&i&&(e.TgZ(0,"span",36),e._uU(1,"Username can not contain space"),e.qZA())}function I(i,f){1&i&&(e.TgZ(0,"span",36),e._uU(1,"This is a required field"),e.qZA())}function m(i,f){1&i&&(e.TgZ(0,"span",37),e._uU(1,"This is a required field "),e.qZA())}function d(i,f){1&i&&(e.TgZ(0,"span",36),e._uU(1,"This is a required field"),e.qZA())}function h(i,f){1&i&&(e.TgZ(0,"span",37),e._uU(1," This is a required field"),e.qZA())}function o(i,f){1&i&&(e.TgZ(0,"span",37),e._uU(1,"This is a required field"),e.qZA())}function p(i,f){1&i&&(e.TgZ(0,"span",37),e._uU(1,"This is a required field"),e.qZA())}function l(i,f){if(1&i){const c=e.EpF();e.TgZ(0,"app-confirm-password",38),e.NdJ("close",function(){return e.CHM(c),e.oxw().isOpenPasswordModal=!1})("updated",function(){return e.CHM(c),e.oxw().form.disable()}),e.qZA()}if(2&i){const c=e.oxw();e.Q6J("body",c.form.value)}}let s=(()=>{class i{constructor(c,u,_,A,T){this.fb=c,this.storageService=u,this.infoService=_,this.settingService=A,this.validationService=T,this.subscription=new r.w}ngOnInit(){this.formInitialization(),this.countries$=this.infoService.getCountries(),this.timeZones$=this.infoService.getTimeZones(),this.getPersonalInformation()}formInitialization(){this.form=this.fb.group({id:[null],userId:[this.storageService.getUserId()],mobileCode:[null],mobile:[null,[t.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],userName:[null,[t.kI.required,this.validationService.cannotContainSpace]],preferredTimeZone:[null,[t.kI.required]],email:[null,[t.kI.required,t.kI.pattern(this.validationService.emailPattern),t.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],userAddress:this.fb.group({countryId:[null,[t.kI.required]],city:[null,[t.kI.required,t.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],streetNumber:[null,[t.kI.required,t.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],streetName:[null,[t.kI.required,t.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],zipCode:[null,[t.kI.required,t.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],tutorBasicInformationId:[null]})}),this.form.disable()}get userAddress(){return this.form.get("userAddress")}onSubmit(){this.form.valid?this.isOpenPasswordModal=!0:this.form.markAllAsTouched()}getPersonalInformation(){this.storageService.getUserId()&&this.subscription.add(this.settingService.getPersonalInformation(this.storageService.getUserId()).subscribe(c=>this.form.patchValue(c)))}ngOnDestroy(){this.subscription.unsubscribe()}}return i.\u0275fac=function(c){return new(c||i)(e.Y36(t.qu),e.Y36(n.V),e.Y36(q.M),e.Y36(M.g),e.Y36(w.R))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-personal-information"]],decls:90,vars:31,consts:[[3,"formGroup"],[1,"d-flex","personal-info-wrapper","wrapper-for-contact"],[1,"flex-item-for-info","address-form"],[1,"form-item-with-notification"],[1,"form-item-label"],["for","email",1,"form-label"],["id","email","autocomplete","username","type","email","placeholder","","formControlName","email",1,"form-input"],["class","error-message",4,"ngIf"],[1,"form-item-notification"],[1,"d-flex","position-relative","phone-number-wrapper"],[1,"form-label","phone-number-label","form-label--min-width","w-25","mobile-code"],["formControlName","mobileCode",3,"disable","list","label","keyName"],["for","phone-number",1,"form-label","phone-number-label","phone-number-label-input"],["id","phone-number","autocomplete","phone-number","type","tel","placeholder","Phone number*","formControlName","mobile",1,"form-input"],[1,"d-flex","position-relative"],["for","user-name",1,"form-label","flex-column"],["id","user-name","type","text","placeholder","User name*","formControlName","userName",1,"form-input"],[1,"p-relative","form-label"],["formControlName","preferredTimeZone",3,"disable","label","list","keyName"],["formGroupName","userAddress",1,"flex-item-for-info"],[1,"address-form","address-form"],["for","country",1,"form-label"],["id","country","formControlName","countryId",3,"label","keyName","list","disable"],["class","error-message block",4,"ngIf"],["for","city",1,"form-label"],["id","city","type","text","placeholder","City*","formControlName","city",1,"form-input"],["for","streetNumber",1,"form-label"],["id","streetNumber","autocomplete","streetNumber","type","text","placeholder","Street Number*","formControlName","streetNumber",1,"form-input"],["for","streetName",1,"form-label"],["id","streetName","autocomplete","streetName","type","text","placeholder","Street Name*","formControlName","streetName",1,"form-input"],["for","zipCode",1,"form-label"],["id","zipCode","autocomplete","zipCode","placeholder","Zip Code*","formControlName","zipCode",1,"form-input"],[1,"flex-container-center","grid-gap-for-buttons"],[1,"settings-form-button","settings-form-button__with-border","button-border--blue",3,"click"],[1,"settings-form-button",3,"disabled","click"],[3,"body","close","updated",4,"ngIf"],[1,"error-message"],[1,"error-message","block"],[3,"body","close","updated"]],template:function(c,u){if(1&c&&(e.TgZ(0,"form",0),e.TgZ(1,"div",1),e.TgZ(2,"ul",2),e.TgZ(3,"li",3),e.TgZ(4,"h3",4),e._uU(5,"Email Address*"),e.qZA(),e.TgZ(6,"label",5),e._UZ(7,"input",6),e.YNc(8,P,2,0,"span",7),e.YNc(9,b,2,0,"span",7),e.TgZ(10,"span",8),e._uU(11,"Not visible on the public profile"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"li",3),e.TgZ(13,"h3",4),e._uU(14,"Mobile phone"),e.qZA(),e.TgZ(15,"div",9),e.TgZ(16,"div",10),e._UZ(17,"app-select",11),e.ALo(18,"async"),e.qZA(),e.TgZ(19,"label",12),e._UZ(20,"input",13),e.qZA(),e.TgZ(21,"span",8),e._uU(22,"Not visible on the public profile"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"li",3),e.TgZ(24,"h3",4),e._uU(25,"User Name*"),e.qZA(),e.TgZ(26,"div",14),e.TgZ(27,"label",15),e._UZ(28,"input",16),e.YNc(29,v,2,0,"span",7),e.YNc(30,g,2,0,"span",7),e.qZA(),e.TgZ(31,"span",8),e._uU(32,"Visible on the public profile"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"li",3),e.TgZ(34,"h3",4),e._uU(35,"Preferred Time Zone*"),e.qZA(),e.TgZ(36,"div",14),e.TgZ(37,"div",17),e._UZ(38,"app-select",18),e.ALo(39,"async"),e.YNc(40,I,2,0,"span",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",19),e.TgZ(42,"ul",20),e.TgZ(43,"li",3),e.TgZ(44,"h3",4),e._uU(45,"Country*"),e.qZA(),e.TgZ(46,"label",21),e._UZ(47,"app-select",22),e.ALo(48,"async"),e.TgZ(49,"span",8),e._uU(50,"Visible on the public profile"),e.qZA(),e.YNc(51,m,2,0,"span",23),e.qZA(),e.qZA(),e.TgZ(52,"li",3),e.TgZ(53,"h3",4),e._uU(54,"City*"),e.qZA(),e.TgZ(55,"label",24),e._UZ(56,"input",25),e.TgZ(57,"span",8),e._uU(58,"Visible on the public profile"),e.qZA(),e.YNc(59,d,2,0,"span",7),e.qZA(),e.qZA(),e.TgZ(60,"li",3),e.TgZ(61,"h3",4),e._uU(62,"Street Number*"),e.qZA(),e.TgZ(63,"label",26),e._UZ(64,"input",27),e.TgZ(65,"span",8),e._uU(66,"Not visible on the public profile"),e.qZA(),e.YNc(67,h,2,0,"span",23),e.qZA(),e.qZA(),e.TgZ(68,"li",3),e.TgZ(69,"h3",4),e._uU(70,"Street Name*"),e.qZA(),e.TgZ(71,"label",28),e._UZ(72,"input",29),e.TgZ(73,"span",8),e._uU(74,"Not visible on the public profile"),e.qZA(),e.YNc(75,o,2,0,"span",23),e.qZA(),e.qZA(),e.TgZ(76,"li",3),e.TgZ(77,"h3",4),e._uU(78,"Zip Code*"),e.qZA(),e.TgZ(79,"label",30),e._UZ(80,"input",31),e.TgZ(81,"span",8),e._uU(82,"Not visible on the public profile"),e.qZA(),e.YNc(83,p,2,0,"span",23),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(84,"div",32),e.TgZ(85,"button",33),e.NdJ("click",function(){return u.form.enable()}),e._uU(86," Edit "),e.qZA(),e.TgZ(87,"button",34),e.NdJ("click",function(){return u.onSubmit()}),e._uU(88,"Update Information"),e.qZA(),e.qZA(),e.YNc(89,l,1,1,"app-confirm-password",35)),2&c){let _,A,T,N,Y,E,O,S,x,D;e.Q6J("formGroup",u.form),e.xp6(8),e.Q6J("ngIf",(null==(_=u.form.get("email"))||null==_.errors?null:_.errors.required)&&(null==(_=u.form.get("email"))?null:_.touched)),e.xp6(1),e.Q6J("ngIf",(null==(A=u.form.get("email"))||null==A.errors?null:A.errors.pattern)&&(null==(A=u.form.get("email"))?null:A.touched)),e.xp6(8),e.Q6J("disable",u.form.disabled)("list",e.lcZ(18,25,u.countries$))("label","+374")("keyName","numCodeForView"),e.xp6(12),e.Q6J("ngIf",(null==(T=u.form.get("userName"))?null:T.errors)&&(null==(T=u.form.get("userName"))?null:T.touched)&&!(null!=(T=u.form.get("userName"))&&null!=T.errors&&T.errors.cannotContainSpace)),e.xp6(1),e.Q6J("ngIf",(null==(N=u.form.get("userName"))||null==N.errors?null:N.errors.cannotContainSpace)&&(null==(N=u.form.get("userName"))?null:N.touched)),e.xp6(8),e.Q6J("disable",u.form.disabled)("label","time zone*")("list",e.lcZ(39,27,u.timeZones$))("keyName","displayName"),e.xp6(2),e.Q6J("ngIf",(null==(Y=u.form.get("preferredTimeZone"))?null:Y.errors)&&(null==(Y=u.form.get("preferredTimeZone"))?null:Y.touched)),e.xp6(7),e.Q6J("label","country*")("keyName","nameLowerCase")("list",e.lcZ(48,29,u.countries$))("disable",u.form.disabled),e.xp6(4),e.Q6J("ngIf",(null==(E=u.userAddress.get("countryId"))||null==E.errors?null:E.errors.required)&&(null==(E=u.userAddress.get("countryId"))?null:E.touched)),e.xp6(8),e.Q6J("ngIf",(null==(O=u.userAddress.get("city"))||null==O.errors?null:O.errors.required)&&(null==(O=u.userAddress.get("city"))?null:O.touched)),e.xp6(8),e.Q6J("ngIf",(null==(S=u.userAddress.get("streetNumber"))||null==S.errors?null:S.errors.required)&&(null==(S=u.userAddress.get("streetNumber"))?null:S.touched)),e.xp6(8),e.Q6J("ngIf",(null==(x=u.userAddress.get("streetName"))||null==x.errors?null:x.errors.required)&&(null==(x=u.userAddress.get("streetName"))?null:x.touched)),e.xp6(8),e.Q6J("ngIf",(null==(D=u.userAddress.get("zipCode"))||null==D.errors?null:D.errors.required)&&(null==(D=u.userAddress.get("zipCode"))?null:D.touched)),e.xp6(4),e.Q6J("disabled",u.form.disabled),e.xp6(2),e.Q6J("ngIf",u.isOpenPasswordModal)}},directives:[t._Y,t.JL,t.sg,t.Fj,t.JJ,t.u,C.O5,U.H,t.x0,Z.H],pipes:[C.Ov],styles:[""]}),i})()},5127:(J,y,a)=>{a.d(y,{h:()=>v});var t=a(5319),r=a(3679),e=a(8307),n=a(7716),q=a(3328),M=a(6332),w=a(7779),C=a(8583),U=a(9092);function Z(g,I){if(1&g){const m=n.EpF();n.TgZ(0,"div",14),n.TgZ(1,"img",15),n.NdJ("click",function(){n.CHM(m);const h=n.oxw().$implicit;return n.oxw().removeForm(h)}),n.qZA(),n.qZA()}}function P(g,I){if(1&g){const m=n.EpF();n.TgZ(0,"i",16),n.NdJ("click",function(){return n.CHM(m),n.oxw(2).addNewForm()}),n.qZA()}}function b(g,I){if(1&g){const m=n.EpF();n.ynx(0,5),n.TgZ(1,"div",6),n.TgZ(2,"div",7),n.TgZ(3,"app-select",8),n.NdJ("ngModelChange",function(h){const p=n.CHM(m).index;return n.oxw().categoryChange(h,p)}),n.ALo(4,"async"),n.qZA(),n.qZA(),n.TgZ(5,"div",7),n.TgZ(6,"app-select",9),n.NdJ("ngModelChange",function(h){const p=n.CHM(m).index,l=n.oxw();return l.subjectChange(h,p,l.formArray.controls[p])}),n.ALo(7,"async"),n.qZA(),n.qZA(),n.TgZ(8,"div",7),n._UZ(9,"app-select",10),n.ALo(10,"async"),n.ALo(11,"async"),n.qZA(),n.TgZ(12,"div",11),n.YNc(13,Z,2,0,"div",12),n.YNc(14,P,1,0,"i",13),n.qZA(),n.qZA(),n.BQk()}if(2&g){const m=I.index,d=n.oxw();let h;n.xp6(1),n.Q6J("formGroupName",m),n.xp6(2),n.Q6J("label","Category*")("keyName","categoryName")("list",n.lcZ(4,13,d.categories$)),n.xp6(3),n.Q6J("label","Subject*")("keyName","subjectName")("list",n.lcZ(7,15,null==d.observables[m]?null:d.observables[m].subjects$)),n.xp6(3),n.Q6J("label","Level*")("list",n.lcZ(10,17,null==d.observables[m]?null:d.observables[m].levels$))("keyName","level")("disable",!(null!=(h=n.lcZ(11,19,null==d.observables[m]?null:d.observables[m].levels$))&&h.length)),n.xp6(4),n.Q6J("ngIf",m>0),n.xp6(1),n.Q6J("ngIf",m===d.formArray.controls.length-1)}}let v=(()=>{class g{constructor(m,d,h,o){this.fb=m,this.storageService=d,this.infoService=h,this.settingService=o,this.subscription=new t.w,this.observables=[{subjects$:null,levels$:null}]}ngOnInit(){this.formInitialization(),this.categories$=this.infoService.getCategories(),this.getTutorSubjects()}formInitialization(){this.form=this.fb.group({formArray:this.fb.array([this.createNewForm()])})}createNewForm(){return this.fb.group({levelId:[null],subjectId:[null],categoryId:[null],userId:[this.storageService.getUserId()],userType:[this.storageService.getUserType()],id:[null]})}get formArray(){return this.form.get("formArray")}addNewForm(){const m=this.createNewForm();m.valueChanges.subscribe(()=>this.formArray.updateValueAndValidity()),this.formArray.controls.push(m),this.formArray.updateValueAndValidity()}removeForm(m){this.formArray.controls=this.formArray.controls.filter(d=>d!==m),this.formArray.updateValueAndValidity()}onSubmit(){this.form.valid&&this.updateTutorSubjects()}updateTutorSubjects(){1===this.storageService.getUserType()?this.subscription.add(this.settingService.updateTutorSubjects(this.formArray.value).subscribe()):this.subscription.add(this.settingService.updateStudentSubjects(this.formArray.value).subscribe())}patchTutorSubjects(m){m.length&&(this.formArray.controls=[],this.observables=[],m.forEach(d=>{var h,o;const p=this.createNewForm();p.patchValue(d),null===(h=this.formArray)||void 0===h||h.controls.push(p),this.observables[(null===(o=this.formArray)||void 0===o?void 0:o.controls.length)-1]={subjects$:this.infoService.getSubjectsByCategoryId(d.categoryId),levels$:this.infoService.getLevelsBySubjectId(d.subjectId)}}),this.formArray.updateValueAndValidity())}getTutorSubjects(){1===this.storageService.getUserType()?this.subscription.add(this.settingService.getTutorSubjects(this.storageService.getUserId()).subscribe(m=>{this.patchTutorSubjects(m)})):this.subscription.add(this.settingService.getStudentSubjects(this.storageService.getUserId()).subscribe(m=>{this.patchTutorSubjects(m)}))}categoryChange(m,d){this.observables[d]||(this.observables[d]={subjects$:null,levels$:null}),this.observables[d].subjects$=this.infoService.getSubjectsByCategoryId(m)}subjectChange(m,d,h){this.observables[d].levels$=this.infoService.getLevelsBySubjectId(m).pipe((0,e.b)(o=>{var p,l;o.length?(null===(p=h.get("levelId"))||void 0===p||p.setValidators(r.kI.required),h.get("levelId").updateValueAndValidity()):(null===(l=h.get("levelId"))||void 0===l||l.removeValidators(r.kI.required),h.get("levelId").updateValueAndValidity()),this.form.updateValueAndValidity()}))}ngOnDestroy(){this.subscription.unsubscribe()}}return g.\u0275fac=function(m){return new(m||g)(n.Y36(r.qu),n.Y36(q.V),n.Y36(M.M),n.Y36(w.g))},g.\u0275cmp=n.Xpm({type:g,selectors:[["app-subjects"]],decls:6,vars:2,consts:[[1,"tutor-settings-nested-page","subjects-wrapper"],[1,"tutor-settings-nested-page__form",3,"formGroup","ngSubmit"],[1,"flex-container-justify-start","grid-gap-space"],["formArrayName","formArray",4,"ngFor","ngForOf"],["type","submit",1,"settings-form-button"],["formArrayName","formArray"],[1,"d-flex","selectRow",3,"formGroupName"],[1,"form-label","fixed-width"],["formControlName","categoryId",3,"label","keyName","list","ngModelChange"],["formControlName","subjectId",3,"label","keyName","list","ngModelChange"],["formControlName","levelId",3,"label","list","keyName","disable"],[1,"flex-container","grid-gap-for-icons"],["class","recycle-bin-wrapper",4,"ngIf"],["class","fas fa-plus",3,"click",4,"ngIf"],[1,"recycle-bin-wrapper"],["src","./assets/images/recycleBin.png","alt","Recycle Byn",3,"click"],[1,"fas","fa-plus",3,"click"]],template:function(m,d){1&m&&(n.TgZ(0,"div",0),n.TgZ(1,"form",1),n.NdJ("ngSubmit",function(){return d.onSubmit()}),n.TgZ(2,"div",2),n.YNc(3,b,15,21,"ng-container",3),n.qZA(),n.TgZ(4,"button",4),n._uU(5,"Update information"),n.qZA(),n.qZA(),n.qZA()),2&m&&(n.xp6(1),n.Q6J("formGroup",d.form),n.xp6(2),n.Q6J("ngForOf",d.formArray.controls))},directives:[r._Y,r.JL,r.sg,C.sg,r.CE,r.x0,U.H,r.JJ,r.u,C.O5],pipes:[C.Ov],styles:[""]}),g})()}}]);